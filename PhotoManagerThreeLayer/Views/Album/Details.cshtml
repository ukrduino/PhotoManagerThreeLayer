@model PhotoManagerModels.ViewModels.AlbumDetailViewModel


<div>
    <h4>@Model.Title</h4>
    <hr />
    <dl class="dl-horizontal">

        <dt>
            @Html.DisplayNameFor(model => model.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Categories)
        </dt>

        <dd>
            @foreach (var cat in Model.Categories)
            {
                <span>@cat.Title </span>
            }
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.CreatedDate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CreatedDate)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.LastModified)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.LastModified)
        </dd>

    </dl>
</div>
<p>

</p>
<div class="row">
    @foreach (var item in Model.Photos)
    {
        <div class="col-lg-4 photoListItem">
            @item.Title
            @*<a href='@Url.Action("Details", "Photo", new {id = item.Id})'>*@
            <img src="data:image/png;base64,@Convert.ToBase64String(item.SmallSizeImageData, 0, item.SmallSizeImageData.Length)" class="albumCoverImage" />

            @*</a>*@
            @if (item.Description.Length > 0)
            {
                @item.Description.Substring(0, Math.Min(item.Description.Length, 35)) if(item.Description.Length > 35) {<span>...</span>}
            }
            else
            {
                <a href='@Url.Action("Edit", "Photo", new {id = item.Id})'>Click to add a description</a>
            }
            @if (item.anyOneCanSee)
            {
                <p><span class="glyphicon glyphicon-eye-open photoListView-anyOneCanSee" aria-hidden="true" ></span><span>Anyone can see this photo</span>&nbsp;<a href='@Url.Action("Edit", "Photo", new {id = item.Id})'>(Edit)</a></p>
            }
            else
            {
                <p class="photoListView-anyOneCanSee-false"><span class="glyphicon glyphicon-eye-close photoListView-anyOneCanSee-false-icon" aria-hidden="true"></span><span>Nobody can see this photo</span>&nbsp;<a href='@Url.Action("Edit", "Photo", new {id = item.Id})'>(Edit)</a></p>
            }

            <p>Uploaded:&nbsp;@item.Uploaded.ToString("d")&nbsp;|&nbsp;<a href='@Url.Action("Delete", "Photo", new {id = item.Id})'>Delete</a></p>
            <p><span>@item.Views&nbsp;views</span>&nbsp;/&nbsp;<a href='@Url.Action("Details", "Photo", new {id = item.Id})'>@item.Comments&nbsp;Comments</a></p>
        </div>
    }
</div>
